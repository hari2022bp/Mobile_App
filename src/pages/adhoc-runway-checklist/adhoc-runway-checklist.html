

<ion-header>

  <ion-navbar>
    <ion-title text-center color="primary">
        <p style="color:blue">Adhoc Runway Inspection Checklist</p>
    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <form [formGroup]="runwaychecklistForm" (ngSubmit)="onSubmit()">
    <ion-item>
          <ion-label fixed style="color: black; font-weight: bold;"> Date </ion-label>
          <ion-datetime displayFormat="MMM DD YYYY" formControlName="date" min="{{ currentdate | date:'yyyy-MM-dd' }}" max="{{ enddate | date:'yyyy-MM-dd' }}" [(ngModel)]="myDate" required> </ion-datetime>
    </ion-item>
    <ion-item>
          <ion-label floating style="color: black; font-weight: bold; text-align: center;"> RWY Inspected </ion-label>
          <ion-select formControlName="rwyinspected" ngModel required>
              <ion-option *ngFor="let option of rwyOptions" [value]="option"> {{ option }} </ion-option>
          </ion-select>
    </ion-item>
    <ion-item>
          <ion-label floating style="color: black; font-weight: bold; text-align: center;"> Start Time Of Inspection </ion-label>

          <ion-datetime  formControlName="inspectiontime" pickerFormat="HH:mm" text-center ngModel required> </ion-datetime>
          <!-- <ion-input type="text" formControlName="inspectiontime" text-center ngModel required></ion-input> -->
    </ion-item>
    <ion-item>

          <ion-label floating style="color: black; font-weight: bold; text-align: center;"> End Time Of Inspection </ion-label>

          <ion-datetime  formControlName="endinspectiontime" pickerFormat="HH:mm" text-center ngModel required> </ion-datetime>
          <!-- <ion-input type="text" formControlName="endinspectiontime" text-center ngModel required></ion-input> -->
   </ion-item>
   <ion-item>

    <ion-label floating style="color: black; font-weight: bold; text-align: center;"> Inspection Type </ion-label>
    <ion-select formControlName="inspectiontype" ngModel required>
        <ion-option *ngFor="let type of inspectionType" [value]="type"> {{ type }} </ion-option>
    </ion-select>

  </ion-item>
  <ion-item text-center>
    Acceptable, &nbsp; Not Acceptable, &nbsp; Serviceable, &nbsp; Unserviceable, &nbsp;
    Present, &nbsp; Not Present, &nbsp; Not Applicable
  </ion-item>
    <div id="demo">
        <h1 style="color: navy; font-weight: bold;">Runway Checklist Form</h1>
        <h2>This checklist contains runway parameters to perform daily checks</h2>
        <div class="table-responsive-vertical shadow-z-1">
          <table id="table" class="table table-hover table-mc-light-blue">
            <thead>
              <tr>
                <th style="color: navy; font-weight: bold;">Observations</th>
                <th style="color: navy; font-weight: bold;">Acceptability</th>
                <th text-center style="color: navy; font-weight: bold;">Remarks</th>
                <!-- <th text-center style="color: navy; font-weight: bold;">NC Filed Ref Number</th> -->
                <!-- <th text-center style="color:navy; font-weight:bold;"> Upload Image</th> -->
              </tr>
            </thead>
        <tbody>
        <tr>
          <td>
            <h6> Approach Lights </h6>
          </td>
          <td>
            <select formControlName="approachlightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="approachlightAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="approachlightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="1" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway Edge Lights </h6>
          </td>
          <td>
            <select formControlName="runwayedgelightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwayedgelightAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwayedgelightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="2" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td data-title = "Observations">
            <h6>PAPI Lights </h6>
          </td>
          <td>
            <select formControlName="papisign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="papiAction" placeholder="Action Taken" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="papiNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <td>
            <!-- <input type="file" id="3" value="Upload" (change)="fileChange($event)" class="upload" />  -->
          </td>
        </tr>
        <tr>
          <td>
            <h6> Runway Centre Line Lights </h6>
          </td>
          <td>
            <select formControlName="runwaycentrelightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwaycentrelightAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwaycentrelightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="4" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway THR. Lights </h6>
          </td>
          <td>
            <select formControlName="runwaythrlightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwaythrlightAction" placeholder="Remarks"></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwaythrlightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td>  <input type="file" id="5" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway End Lights </h6>
          </td>
          <td>
            <select formControlName="runwayendlightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>

          </td>
          <td>
            <ion-input type="text" formControlName="runwayendlightAction" placeholder="Remarks"></ion-input>
          </td>
         <!-- <td>
            <ion-input type="text" formControlName="runwayendlightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="6" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway TDZ Lights </h6>
          </td>
          <td>
            <select formControlName="runwaytdzlightsign">
              <option *ngFor="let status of lightsStatusAll" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwaytdzlightAction" placeholder="Remarks"></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwaytdzlightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="7" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> RETILS and TWY lights on RWY </h6>
          </td>
          <td>
            <select formControlName="retilsandtwylightsign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="retilsandtwylightAction" placeholder="Remarks"></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="retilsandtwylightNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="8" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Sequential Flashing Lights </h6>
          </td>
          <td>
            <select formControlName="sequentialflashinglightsign">
              <option *ngFor="let status of lightsStatusAll" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="sequentialflashinglightAction" placeholder="Remarks" ></ion-input>
          </td>
        </tr>
        <tr>
          <td>
            <h6> Runway Surfaces </h6>
          </td>
          <td>
            <select formControlName="runwaysurfacesign">
              <option *ngFor="let status of commonStatusAcute" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwaysurfaceAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td data-title = "NC Filed Ref No.">
            <ion-input type="text" formControlName="runwaysurfaceNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="9" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> FOD </h6>
          </td>
          <td>
            <select formControlName="fodsign">
              <option *ngFor="let status of uniqueStatusOne" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="fodAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="fodNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="10" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway shoulders </h6>
          </td>
          <td>
            <select formControlName="runwayshouldersign">
              <option *ngFor="let status of commonStatusAcute" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwayshoulderAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwayshoulderNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="11" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Runway markings - painting </h6>
          </td>
          <td>
            <select formControlName="runwaymarkingsign">
              <option *ngFor="let status of commonStatusAcute" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="runwaymarkingAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="runwaymarkingNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="12" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Rubber build-up </h6>
          </td>
          <td>
            <select formControlName="rubberbuildupsign">
              <option *ngFor="let status of commonStatusAcute" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="rubberbuildupAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="rubberbuildupNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <td>
            <!-- <input type="file" id="13" value="Upload" (change)="fileChange($event)" class="upload" />  -->
          </td>
        </tr>
        <tr>
          <td>
            <h6> Open cabling </h6>
          </td>
          <td>
            <select formControlName="opencablingsign">
              <option *ngFor="let status of uniqueStatusOne" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="opencablingAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="opencablingNC" placeholder="NC Filed Ref No."  text-center ></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="14" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Signs - lighting, visibility and legibility </h6>
          </td>
          <td>
            <select formControlName="lightingvisibilitysign">
              <option *ngFor="let status of lightsStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="lightingvisibilityAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="lightingvisibilityNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="15" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Birds </h6>
          </td>
          <td>
            <select formControlName="birdsign">
              <option *ngFor="let status of uniqueStatusOne" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="birdAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="birdNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td> <input type="file" id="16" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> DRY / WET / SLIPPERY WET / STANDING WATER </h6>
          </td>
          <td>
            <select formControlName="dampwetsign">
              <option *ngFor="let status of uniqueStatusTwo" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="dampwetAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="dampwetNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td>  <input type="file" id="17" value="Upload" (change)="fileChange($event)" class="upload" /> </td> -->
        </tr>
        <tr>
          <td>
            <h6> Spillages </h6>
          </td>
          <td>
            <select formControlName="spillagesign">
              <option *ngFor="let status of uniqueStatusOne" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="spillageAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="spillageNC" placeholder="NC Filed Ref No." text-center></ion-input>
          </td> -->
          <!-- <td>
              <input type="file" id="18" value="Upload" (change)="fileChange($event)" class="upload" />
          </td> -->
        </tr>
        <tr>
          <td>
            <h6> Obstructions/Obstacles </h6>
          </td>
          <td>
            <select formControlName="obstructionsign">
              <option *ngFor="let status of commonStatusAcute" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="obstructionAction" placeholder="Remarks"></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="obstructionNC" placeholder="NC Filed Ref No."  text-center></ion-input>
          </td> -->
          <!-- <td>
              <input type="file" id="19" value="Upload" (change)="fileChange($event)" class="upload" />
          </td> -->
        </tr>
        <tr>
          <td>
            <h6> Grass length (applicable during day light) </h6>
          </td>
          <td>
            <select formControlName="grasslengthsign">
              <option *ngFor="let status of commonStatus" [value]="status">
                {{ status }}
              </option>
            </select>
          </td>
          <td>
            <ion-input type="text" formControlName="grasslengthAction" placeholder="Remarks" ></ion-input>
          </td>
          <!-- <td>
            <ion-input type="text" formControlName="grasslengthNC" placeholder="NC Filed Ref No." text-center></ion-input>
          </td> -->
          <!-- <td>
              <input type="file" id="20" value="Upload" (change)="fileChange($event)" class="upload" />
          </td> -->
        </tr>
        <tr>
          <td style="color: black; text-align: center; font-weight: bold;">
            <h6> Department </h6>
            <ion-input type="text" formControlName="InspectorSign" disabled="true" placeholder="Department Name" text-center></ion-input>
          </td>
          <td style="color: black; text-align: center; font-weight: bold;">
            <h6> Name </h6>
            <ion-input type="text" formControlName="InspectorName" [(ngModel)]="user" disabled="true" text-center></ion-input>
          </td>
          <!--<td>
            <ion-label fixed text-center>Signature</ion-label>
            <ion-input type="text" formControlName="InspectorSign" placeholder="Mark your signature" ngModel required></ion-input>
          </td>-->
        </tr>
      </tbody>
    </table>
    </div>
  </div>
    <ion-item>
      <ion-label floating style="color: black; font-weight: bold; text-align: center;">Other Observations</ion-label>
      <ion-textarea formControlName="otherobservations" ngModel></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-label floating style="color: black; font-weight: bold; text-align: center;"> Duty Manager Name </ion-label>
      <ion-select formControlName="dutymanagername" ngModel required>
          <ion-option *ngFor="let option of userData" [value]="option.EMAIL_ID"> {{ option.Name }} </ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label floating style="color: black; font-weight: bold; text-align: center;"> Civil Department </ion-label>
      <ion-select formControlName="civildept" ngModel required>
          <ion-option *ngFor="let option of civildeptdata" [value]="option.EmpCode"> {{ option.EmployeeName }} </ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label floating style="color: black; font-weight: bold; text-align: center;"> CCR Department </ion-label>
      <ion-select formControlName="ccrdept" ngModel required>
          <ion-option *ngFor="let option of ccrdeptdata" [value]="option.EmpCode"> {{ option.EmployeeName }} </ion-option>
      </ion-select>
    </ion-item>
  <button ion-button type="submit" block [disabled]="!runwaychecklistForm.valid">Submit Checklist</button>
  </form>
</ion-content>

